{"mappings":"AA+EA,MAAMA,EAAO,CACXC,WAAYC,SAASC,eAAe,eACpCC,QAASF,SAASG,cAAc,YAChCC,YAAaJ,SAASG,cAAc,eAGhCE,EAAoB,ICrDX,MAKbC,YACE,MAEMC,EAAM,sEAA6BC,KAAKC,gCAAgCD,KAAKE,OAEnF,OAAOC,MAAMJ,GACVK,MAAKC,GAAKA,EAAEC,SACZF,MAAKG,IACJP,KAAKQ,gBAEED,EAAKE,O,CAIlBD,gBACER,KAAKE,MAAQ,C,CAGfQ,YACEV,KAAKE,KAAO,C,CAGVS,YACF,OAAOX,KAAKC,W,CAGVU,UAAMC,GACRZ,KAAKC,YAAcW,C,CA/BrBC,cACEb,KAAKC,YAAc,GACnBD,KAAKE,KAAO,C,GDmEhB,SAASY,EAAoBL,GAC5BnB,EAAKI,QAAQqB,mBAAmB,YAA0BN,EErGtDO,KACC,EAACC,KACCA,EAAIC,aACJA,EAAYC,cACZA,EAAaC,MACbA,EAAKC,MACLA,EAAKC,SACLA,EAAQC,UACRA,KAEO,0EAEmBJ,0BAClBD,WAAsBD,kHAIpBG,mFAIZC,sFAIAC,uFAIAC,oEAODC,KAAK,I,CFiDVlC,EAAKC,WAAWkC,iBAAiB,UAGjC,SAAkBC,GAChBA,EAAEC,iBAEF9B,EAAkBI,YAAcyB,EAAEE,cAAc3B,YAAY4B,MAAMC,OAClEjC,EAAkBa,YAClBb,EAAkBC,YAAYM,KAAKU,E,IAPrCxB,EAAKM,YAAY6B,iBAAiB,SAUlC,WACE5B,EAAkBC,YAAYM,KAAKU,E","sources":["src/service/script.js","src/service/pixabayAPI.js","src/service/markup.js"],"sourcesContent":["// import Notiflix from 'notiflix';\n// import simpleLightbox from 'simplelightbox';\n// import 'simplelightbox/dist/simple-lightbox.min.css';\n// import PixabayApiService from './pixabayAPI.js';\n// import  createMarkup from './markup';\n\n// const refs = {\n//   form: document.getElementById('search-form'),\n//   gallery: document.querySelector('.gallery'),\n//   loadMoreBtn: document.querySelector('.load-more'),\n// };\n// const pixabayApiService = new PixabayApiService();\n// console.log(pixabayApiService);\n\n// refs.form.addEventListener('submit', onSubmit);\n// refs.loadMoreBtn.addEventListener('submit', onMoreBtn);\n\n// let searchQuery = '';\n\n// function onSubmit(e) {\n// \te.preventDefault();\n\n// \tsearchQuery = e.currentTarget.elements.searchQuery.value;\n// \tpixabayApiService.getPixabay(searchQuery);\n// const searchName = ;\n// console.Log(searchName);\n// \tclearGallery();\n\n// \ttry {\n// \t\tconst res = await fetchHits(searchName);\n// \t}\n\n// const form = e.currentTarget;\n// const value = form.elements.searchQuery.value.trim();\n// pixabayApiService.searchQuery = value;\n// pixabayApiService.resetPage();\n// // clearGalleryList();\n// fetchHits().finally(() => form.reset());\n// }\n\n// function onMoreBtn() {\n\n// }\n\n// function fetchHits() {\n//   // loadMoreBtn.disable();\n\n//   return pixabayApiService\n//     .getPixabay()\n//     .then(hits => {\n//       if (hits.length === 0) throw new Error('no data');\n\n//       return hits.reduce((markup, hits) => createMarkup(hits) + markup, '');\n//     })\n//     .then(markup => {\n//       appendGalleryToList(markup);\n//     })\n//     // .catch(onError);\n// }\n\n// function appendGalleryToList(markup) {\n//   gallery.insertAdjacentHTML('beforeend', markup);\n// }\n\n// function clearGalleryList(markup) {\n//   gallery.innerHTML = '';\n// }\n\n// function onError(err) {\n//   console.error(err);\n// }\n// const lightbox = new SimpleLightbox('.gallery a', {\n// \tcaptionsData:'alt',\n// \tcaptionPosition:'bottom',\n// \tcaptionDelay:'250'\n// });\nimport createMarkup from './markup';\nimport PixabayApiService from './pixabayAPI.js';\n\nconst refs = {\n  searchForm: document.getElementById('search-form'),\n  gallery: document.querySelector('.gallery'),\n  loadMoreBtn: document.querySelector('.load-more'),\n};\n\nconst pixabayApiService = new PixabayApiService();\n\nrefs.searchForm.addEventListener('submit', onSearch);\nrefs.loadMoreBtn.addEventListener('click', onLoadMore);\n\nfunction onSearch(e) {\n  e.preventDefault();\n\n  pixabayApiService.searchQuery = e.currentTarget.searchQuery.value.trim();\n  pixabayApiService.resetPage();\n  pixabayApiService.fetchHits().then(appendGalleryMarkup);\n}\n\nfunction onLoadMore() {\n  pixabayApiService.fetchHits().then(appendGalleryMarkup);\n}\n\nfunction appendGalleryMarkup(hits) {\n\trefs.gallery.insertAdjacentHTML('beforeend', createMarkup(hits));\n}\n\nfunction clearGalleryContainer() {\n\n}\n","// import axios from 'axios';\n\n// const ENDPOINT = 'https://pixabay.com/api/';\n// export default class PixabayApiService {\n//   constructor() {\n//     this.searchQuery = '';\n//     this.page = 5;\n//     this.per_page = 10;\n//   }\n//   async getPixabay() {\n//     const searchParams = new URLSearchParams({\n//       key: '33854415-dab75466e51d96ca7439b60b4',\n//       q: `${this.searchQuery}`,\n//       image_type: 'photo',\n//       orientation: 'horizontal',\n//       safesearch: true,\n//       page: `${this.page}`,\n//       per_page: `${this.per_page}`,\n//     });\n\n//     const response = await axios.get(`${ENDPOINT}?${searchParams}`);\n//     return response.data;\n//   }\n//   nextPage() {\n//     this.page += 1;\n//   }\n\n//   resetPage() {\n//     this.page = 1;\n//   }\n// }\n\nexport default class PixabayApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n  fetchHits() {\n    const ENDPOINT = 'https://pixabay.com/api/';\n    const KEY = '33854415-dab75466e51d96ca7439b60b4';\n    const URL = `${ENDPOINT}/?key=${KEY}&q=${this.searchQuery}?&per_page=5&page=${this.page}`;\n\n    return fetch(URL)\n      .then(r => r.json())\n      .then(data => {\n        this.incrementPage();\n\n        return data.hits;\n      });\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n","export default function createMarkup(galleryItems) {\n  return galleryItems\n    .map(\n      ({\n        tags,\n        webformatURL,\n        largeImageURL,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `\n\t\t\t\t<div class=\"photo-card\">\n\t\t\t<a class=\"images-link\" href=\"${largeImageURL}\">\n\t\t\t\t<img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n\t\t\t</a>\n\t\t\t<div class=\"info\">\n\t\t\t\t<p class=\"info-item\">\n\t\t\t\t<b>Likes</b>${likes}\n\t\t\t\t</p>\n\t\t\t\t<p class=\"info-item\">\n  \t\t\t\t<b>Views</b>\n\t\t\t\t${views}\n\t\t\t\t</p>\n\t\t\t\t<p class=\"info-item\">\n  \t\t\t\t<b>Comments</b>\n\t\t\t\t${comments}\n\t\t\t\t</p>\n\t\t\t\t<p class=\"info-item\">\n  \t\t\t\t<b>Downloads</b>\n\t\t\t\t${downloads}\n\t\t\t\t</p>\t\t\t\t\n\t\t\t</div>\t\t\t\t\n\t\t</div>\n\t\t`;\n      }\n    )\n    .join('');\n}\n"],"names":["$7a57104cf0c177a3$var$refs","searchForm","document","getElementById","gallery","querySelector","loadMoreBtn","$7a57104cf0c177a3$var$pixabayApiService","fetchHits","URL","this","searchQuery","page","fetch","then","r","json","data","incrementPage","hits","resetPage","query","newQuery","constructor","$7a57104cf0c177a3$var$appendGalleryMarkup","insertAdjacentHTML","map","tags","webformatURL","largeImageURL","likes","views","comments","downloads","join","addEventListener","e","preventDefault","currentTarget","value","trim"],"version":3,"file":"index.00ebc22f.js.map"}