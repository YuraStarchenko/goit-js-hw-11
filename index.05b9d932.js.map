{"mappings":"AA+EA,MAAMA,EAAO,CACXC,WAAYC,SAASC,eAAe,eACpCC,QAASF,SAASG,cAAc,YAChCC,YAAaJ,SAASG,cAAc,eAGhCE,EAAoB,ICrDX,MAKbC,YACEC,QAAQC,IAAIC,MACZ,MAEMC,EAAM,sEAA6BD,KAAKE,gCAAgCF,KAAKG,OAEnFC,MAAMH,GACHI,MAAKC,GAAKA,EAAEC,SACZF,MAAKG,IACJR,KAAKS,gBACLX,QAAQC,IAAIC,KAAK,G,CAIvBS,gBACET,KAAKG,MAAQ,C,CAGXO,YACF,OAAOV,KAAKE,W,CAGVQ,UAAMC,GACRX,KAAKE,YAAcS,C,CA3BrBC,cACEZ,KAAKE,YAAc,GACnBF,KAAKG,KAAO,C,GDoDhBd,EAAKC,WAAWuB,iBAAiB,UAGjC,SAAkBC,GAChBA,EAAEC,iBAEFnB,EAAkBM,YAAcY,EAAEE,cAAcd,YAAYe,MAAMC,OAElEtB,EAAkBC,W,IAPpBR,EAAKM,YAAYkB,iBAAiB,SAUlC,WACEjB,EAAkBC,W","sources":["src/service/script.js","src/service/pixabayAPI.js"],"sourcesContent":["// import Notiflix from 'notiflix';\n// import simpleLightbox from 'simplelightbox';\n// import 'simplelightbox/dist/simple-lightbox.min.css';\n// import PixabayApiService from './pixabayAPI.js';\n// import  createMarkup from './markup';\n\n// const refs = {\n//   form: document.getElementById('search-form'),\n//   gallery: document.querySelector('.gallery'),\n//   loadMoreBtn: document.querySelector('.load-more'),\n// };\n// const pixabayApiService = new PixabayApiService();\n// console.log(pixabayApiService);\n\n// refs.form.addEventListener('submit', onSubmit);\n// refs.loadMoreBtn.addEventListener('submit', onMoreBtn);\n\n// let searchQuery = '';\n\n// function onSubmit(e) {\n// \te.preventDefault();\n\n// \tsearchQuery = e.currentTarget.elements.searchQuery.value;\n// \tpixabayApiService.getPixabay(searchQuery);\n// const searchName = ;\n// console.Log(searchName);\n// \tclearGallery();\n\n// \ttry {\n// \t\tconst res = await fetchHits(searchName);\n// \t}\n\n// const form = e.currentTarget;\n// const value = form.elements.searchQuery.value.trim();\n// pixabayApiService.searchQuery = value;\n// pixabayApiService.resetPage();\n// // clearGalleryList();\n// fetchHits().finally(() => form.reset());\n// }\n\n// function onMoreBtn() {\n\n// }\n\n// function fetchHits() {\n//   // loadMoreBtn.disable();\n\n//   return pixabayApiService\n//     .getPixabay()\n//     .then(hits => {\n//       if (hits.length === 0) throw new Error('no data');\n\n//       return hits.reduce((markup, hits) => createMarkup(hits) + markup, '');\n//     })\n//     .then(markup => {\n//       appendGalleryToList(markup);\n//     })\n//     // .catch(onError);\n// }\n\n// function appendGalleryToList(markup) {\n//   gallery.insertAdjacentHTML('beforeend', markup);\n// }\n\n// function clearGalleryList(markup) {\n//   gallery.innerHTML = '';\n// }\n\n// function onError(err) {\n//   console.error(err);\n// }\n// const lightbox = new SimpleLightbox('.gallery a', {\n// \tcaptionsData:'alt',\n// \tcaptionPosition:'bottom',\n// \tcaptionDelay:'250'\n// });\n\nimport PixabayApiService from './pixabayAPI.js';\n\nconst refs = {\n  searchForm: document.getElementById('search-form'),\n  gallery: document.querySelector('.gallery'),\n  loadMoreBtn: document.querySelector('.load-more'),\n};\n\nconst pixabayApiService = new PixabayApiService();\n\nrefs.searchForm.addEventListener('submit', onSearch);\nrefs.loadMoreBtn.addEventListener('click', onLoadMore);\n\nfunction onSearch(e) {\n  e.preventDefault();\n\n  pixabayApiService.searchQuery = e.currentTarget.searchQuery.value.trim();\n\n  pixabayApiService.fetchHits();\n}\n\nfunction onLoadMore() {\n  pixabayApiService.fetchHits();\n}\n","// import axios from 'axios';\n\n// const ENDPOINT = 'https://pixabay.com/api/';\n// export default class PixabayApiService {\n//   constructor() {\n//     this.searchQuery = '';\n//     this.page = 5;\n//     this.per_page = 10;\n//   }\n//   async getPixabay() {\n//     const searchParams = new URLSearchParams({\n//       key: '33854415-dab75466e51d96ca7439b60b4',\n//       q: `${this.searchQuery}`,\n//       image_type: 'photo',\n//       orientation: 'horizontal',\n//       safesearch: true,\n//       page: `${this.page}`,\n//       per_page: `${this.per_page}`,\n//     });\n\n//     const response = await axios.get(`${ENDPOINT}?${searchParams}`);\n//     return response.data;\n//   }\n//   nextPage() {\n//     this.page += 1;\n//   }\n\n//   resetPage() {\n//     this.page = 1;\n//   }\n// }\n\nexport default class PixabayApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n  fetchHits() {\n    console.log(this);\n    const ENDPOINT = 'https://pixabay.com/api/';\n    const KEY = '33854415-dab75466e51d96ca7439b60b4';\n    const URL = `${ENDPOINT}/?key=${KEY}&q=${this.searchQuery}?&per_page=5&page=${this.page}`;\n\n    fetch(URL)\n      .then(r => r.json())\n      .then(data => {\n        this.incrementPage();\n        console.log(this);\n      });\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n"],"names":["$7a57104cf0c177a3$var$refs","searchForm","document","getElementById","gallery","querySelector","loadMoreBtn","$7a57104cf0c177a3$var$pixabayApiService","fetchHits","console","log","this","URL","searchQuery","page","fetch","then","r","json","data","incrementPage","query","newQuery","constructor","addEventListener","e","preventDefault","currentTarget","value","trim"],"version":3,"file":"index.05b9d932.js.map"}