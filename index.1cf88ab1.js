const t=document.querySelector(".search-form"),e=document.querySelector(".gallery"),n=new class{getHits(){const t=`https://pixabay.com/api/?key=33854415-dab75466e51d96ca7439b60b4&q=${this.searchQuery}&per_page=${this.per_page}&page=${this.page}`;return fetch(t).then((t=>t.json())).then((({hits:t})=>(this.nextPage(),t)))}nextPage(){this.page+=1}resetPage(){this.page=1}constructor(){this.page=1,this.per_page=5,this.searchQuery=""}},s=new class{getButton(t){return document.querySelector(t)}hide(){this.button.classList.add("hidden")}show(){this.button.classList.remove("hidden")}disable(){this.button.disabled=!0,this.button.textContent="Loading..."}enable(){this.button.disabled=!1,this.button.textContent="Load more"}constructor({selector:t,isHidden:e}){this.button=this.getButton(t),e?this.hide():this.show()}}({selector:"#load-more",isHidden:!0});function i(){return s.disable(),n.getHits().then((t=>{if(0===t.length)throw new Error("Sorry, there are no images matching your search query. Please try again.");return t.reduce(((t,e)=>function({tags:t,webformatURL:e,largeImageURL:n,likes:s,views:i,comments:o,downloads:r}){return`\n\t\t<div class="photo-card">\n\t\t\t<a class="images-link" href="${n}">\n\t\t\t\t<img src="${e}" alt="${t}" loading="lazy" />\n\t\t\t</a>\n\t\t\t<div class="info">\n\t\t\t\t<p class="info-item">\n\t\t\t\t<b>Likes</b>:\n\t\t\t\t${s}\n\t\t\t\t</p>\n\t\t\t\t<p class="info-item">\n  \t\t\t\t<b>Views</b>:\n\t\t\t\t${i}\n\t\t\t\t</p>\n\t\t\t\t<p class="info-item">\n  \t\t\t\t<b>Comments</b>:\n\t\t\t\t${o}\n\t\t\t\t</p>\n\t\t\t\t<p class="info-item">\n  \t\t\t\t<b>Downloads</b>:\n\t\t\t\t${r}\n\t\t\t\t</p>\t\t\t\t\n\t\t\t</div>\t\t\t\t\n\t\t</div>\n\t`}(e)+t),"")})).then((t=>{o(t),s.enable()})).catch(r)}function o(t){e.insertAdjacentHTML("beforeend",t)}function r(t){console.error(t),s.hide(),o("<p>Hits not found</p>")}console.log(n),console.log(s),t.addEventListener("submit",(function(t){t.preventDefault();const o=t.currentTarget,r=o.elements.searchQuery.value.trim();e.innerHTML="",n.resetPage(),s.show(),n.searchQuery=r,i().finally((()=>o.reset()))})),s.button.addEventListener("click",i);
//# sourceMappingURL=index.1cf88ab1.js.map
