{"mappings":"AAAe,SAAAA,GAAsBC,KACnCA,EAAIC,aACJA,EAAYC,cACZA,EAAaC,MACbA,EAAKC,MACLA,EAAKC,SACLA,EAAQC,UACRA,IAEA,MAAO,sEAEyBJ,0BAClBD,WAAsBD,6HAKhCG,oFAIAC,uFAIAC,wFAIAC,+D,CCnBN,MAAMC,EAAOC,SAASC,cAAc,gBAC9BC,EAAUF,SAASC,cAAc,YAGjCE,EAAiB,ICkCR,MAMbC,UACE,MAAMC,EAAM,qEAA4BC,KAAKC,wBAAwBD,KAAKE,iBAAiBF,KAAKG,OAEhG,OAAOC,MAAML,GACVM,MAAKC,GAAYA,EAASC,SAC1BF,MAAK,EAACG,KAAEA,MACPR,KAAKS,WACED,I,CAIbC,WACET,KAAKG,MAAQ,C,CAGfO,YACEV,KAAKG,KAAO,C,CArBdQ,cACEX,KAAKG,KAAO,EACZH,KAAKE,SAAW,EAChBF,KAAKC,YAAc,E,GDrCjBW,EAAc,IEfL,MAObC,UAAUC,GACR,OAAOpB,SAASC,cAAcmB,E,CAGhCC,OACEf,KAAKgB,OAAOC,UAAUC,IAAI,S,CAG5BC,OACEnB,KAAKgB,OAAOC,UAAUG,OAAO,S,CAG/BC,UACErB,KAAKgB,OAAOM,UAAW,EACvBtB,KAAKgB,OAAOO,YAAc,Y,CAE5BC,SACExB,KAAKgB,OAAOM,UAAW,EACvBtB,KAAKgB,OAAOO,YAAc,W,CAxB5BZ,aAAYG,SAAEA,EAAQW,SAAEA,IACtBzB,KAAKgB,OAAShB,KAAKa,UAAUC,GACzBW,EAAUzB,KAAKe,OACdf,KAAKmB,M,GFWsB,CAClCL,SAAU,aACVW,UAAU,IAsBZ,SAASC,IAEP,OADDd,EAAYS,UACJxB,EACJC,UACAO,MAAKsB,IACJ,GAAoB,IAAhBA,EAAKC,OACP,MAAM,IAAIC,MACR,4EAEJ,OAAOF,EAAKG,QAAO,CAACC,EAAQvB,IAASvB,EAAauB,GAAQuB,GAAQ,GAAG,IAExE1B,MAAM0B,IACNC,EAAgBD,GAChBnB,EAAYY,QAAQ,IAElBS,MAAMC,E,CAGX,SAASF,EAAgBD,GACxBnC,EAAQuC,mBAAmB,YAAaJ,E,CAQzC,SAASG,EAAQE,GAChBC,QAAQC,MAAMF,GACdxB,EAAYG,OACXiB,EAAgB,wB,CAlDlBK,QAAQE,IAAI1C,GACZwC,QAAQE,IAAI3B,GAGZnB,EAAK+C,iBAAiB,UAGtB,SAAkBC,GACjBA,EAAEC,iBAED,MAAMC,EAAOF,EAAEG,cACVC,EAAQF,EAAKG,SAAS7C,YAAY4C,MAAME,OAiC7CnD,EAAQoD,UAAY,GA/BrBnD,EAAea,YACfE,EAAYO,OACZtB,EAAeI,YAAc4C,EAE9BnB,IAAYuB,SAAQ,IAAMN,EAAKO,S,IAZ/BtC,EAAYI,OAAOwB,iBAAiB,QAASd","sources":["src/service/markup.js","src/service/script.js","src/service/pixabayAPI.js","src/service/LoadMoreBtn.js"],"sourcesContent":["export default function createMarkup({\n  tags,\n  webformatURL,\n  largeImageURL,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `\n\t\t<div class=\"photo-card\">\n\t\t\t<a class=\"images-link\" href=\"${largeImageURL}\">\n\t\t\t\t<img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n\t\t\t</a>\n\t\t\t<div class=\"info\">\n\t\t\t\t<p class=\"info-item\">\n\t\t\t\t<b>Likes</b>:\n\t\t\t\t${likes}\n\t\t\t\t</p>\n\t\t\t\t<p class=\"info-item\">\n  \t\t\t\t<b>Views</b>:\n\t\t\t\t${views}\n\t\t\t\t</p>\n\t\t\t\t<p class=\"info-item\">\n  \t\t\t\t<b>Comments</b>:\n\t\t\t\t${comments}\n\t\t\t\t</p>\n\t\t\t\t<p class=\"info-item\">\n  \t\t\t\t<b>Downloads</b>:\n\t\t\t\t${downloads}\n\t\t\t\t</p>\t\t\t\t\n\t\t\t</div>\t\t\t\t\n\t\t</div>\n\t`;\n}\n","// import SimpleLightbox from 'simplelightbox';\n// import 'simplelightbox/dist/simple-lightbox.min.css';\n\n// import { Notify } from 'notiflix/build/notiflix-notify-aio';\n// import { refs } from './refs';\n\nimport createMarkup from './markup';\nimport HitsPixabayApi from './pixabayAPI.js';\nimport LoadMoreBtn from './LoadMoreBtn';\n\nconst form = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\n// const loadMoreBtn = document.getElementById('load-more');\n\nconst hitsPixabayApi = new HitsPixabayApi();\nconst loadMoreBtn = new LoadMoreBtn({\n  selector: '#load-more',\n  isHidden: true\n});\nconsole.log(hitsPixabayApi);\nconsole.log(loadMoreBtn);\n\n\nform.addEventListener('submit', onSubmit);\nloadMoreBtn.button.addEventListener('click', fetchHits);\n\nfunction onSubmit(e) {\n\te.preventDefault();\n\t\n  const form = e.currentTarget;\n\tconst value = form.elements.searchQuery.value.trim();\n\tremoveHitsImage();\n\thitsPixabayApi.resetPage();\n\tloadMoreBtn.show();\n\thitsPixabayApi.searchQuery = value;\n\nfetchHits().finally(() => form.reset());\n}\n\nfunction fetchHits() {\n\tloadMoreBtn.disable();\n  return hitsPixabayApi\n    .getHits()\n    .then(hits => {\n      if (hits.length === 0)\n        throw new Error(\n          'Sorry, there are no images matching your search query. Please try again.'\n        );\n      return hits.reduce((markup, hits) => createMarkup(hits) + markup, '');\n    })\n\t\t.then((markup) => {\n\t\t\tappendHitsImage(markup);\n\t\t\tloadMoreBtn.enable();\n\t\t})\n    .catch(onError);\n}\n\nfunction appendHitsImage(markup) {\n\tgallery.insertAdjacentHTML('beforeend', markup);\n\t\n}\n\nfunction removeHitsImage() {\n  gallery.innerHTML = \"\";\n}\n\nfunction onError(err) {\n\tconsole.error(err);\n\tloadMoreBtn.hide();\n  appendHitsImage('<p>Hits not found</p>');\n}\n","// import axios from 'axios';\n// export default class PixabayApiService {\n//   constructor() {\n//     this.searchQuery = '';\n//     this.per_page = 10;\n//     this.page = 1;\n//   }\n//   async fetchHits() {\n//     const ENDPOINT = 'https://pixabay.com/api/';\n//     const KEY = '33854415-dab75466e51d96ca7439b60b4';\n//     const URL = `${ENDPOINT}/?key=${KEY}&q=${this.searchQuery}?&per_page=${this.per_page}&page=${this.page}`;\n\n//     const response = await fetch(URL);\n//     const { hits } = await response.json();\n//     this.incrementPage();\n//     return hits;\n\n//     // const { data } = await axios.get(URL);\n//     // this.incrementPage();\n//     // return data.hits;\n//   }\n\n//   incrementPage() {\n//     this.page += 1;\n//   }\n\n//   resetPage() {\n//     this.page = 1;\n//   }\n\n//   get query() {\n//     return this.searchQuery;\n//   }\n\n//   set query(newQuery) {\n//     this.searchQuery = newQuery;\n//   }\n// }\n// const ENDPOINT = 'https://pixabay.com/api/';\n// const KEY = '33854415-dab75466e51d96ca7439b60b4';\n// const URL = `${ENDPOINT}?key=${KEY}&q=image_type=photo&orientation=horizontal&safesearch=true&per_page=10&page=1`;\n\n// export default function fetchData(searchQuery) {\n// \tconst URL = `${ENDPOINT}?key=${KEY}&q=${searchQuery}&per_page=5&page=1`;\n//   return fetch(URL).then(response => response.json());\n// }\nconst ENDPOINT = 'https://pixabay.com/api/';\nconst KEY = '33854415-dab75466e51d96ca7439b60b4';\nexport default class HitsPixabayApi {\n  constructor() {\n    this.page = 1;\n    this.per_page = 5;\n    this.searchQuery = '';\n  }\n  getHits() {\n    const URL = `${ENDPOINT}?key=${KEY}&q=${this.searchQuery}&per_page=${this.per_page}&page=${this.page}`;\n\n    return fetch(URL)\n      .then(response => response.json())\n      .then(({ hits }) => {\n        this.nextPage();\n        return hits;\n      });\n  }\n\n  nextPage() {\n    this.page += 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n}\n","export default class LoadMoreBtn {\n  constructor({ selector, isHidden }) {\n    this.button = this.getButton(selector);\n    if (isHidden) this.hide();\n    else this.show();\n  }\n\n  getButton(selector) {\n    return document.querySelector(selector);\n  }\n\n  hide() {\n    this.button.classList.add('hidden');\n  }\n\n  show() {\n    this.button.classList.remove('hidden');\n  }\n\n  disable() {\n    this.button.disabled = true;\n    this.button.textContent = 'Loading...';\n  }\n  enable() {\n    this.button.disabled = false;\n    this.button.textContent = 'Load more';\n  }\n}\n"],"names":["$f2a60ff260d21945$export$2e2bcd8739ae039","tags","webformatURL","largeImageURL","likes","views","comments","downloads","$7a57104cf0c177a3$var$form","document","querySelector","$7a57104cf0c177a3$var$gallery","$7a57104cf0c177a3$var$hitsPixabayApi","getHits","URL","this","searchQuery","per_page","page","fetch","then","response","json","hits","nextPage","resetPage","constructor","$7a57104cf0c177a3$var$loadMoreBtn","getButton","selector","hide","button","classList","add","show","remove","disable","disabled","textContent","enable","isHidden","$7a57104cf0c177a3$var$fetchHits","hits1","length","Error","reduce","markup","$7a57104cf0c177a3$var$appendHitsImage","catch","$7a57104cf0c177a3$var$onError","insertAdjacentHTML","err","console","error","log","addEventListener","e","preventDefault","form1","currentTarget","value","elements","trim","innerHTML","finally","reset"],"version":3,"file":"index.448b9508.js.map"}