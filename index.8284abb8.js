!function(){function t(t){return t&&t.__esModule?t.default:t}var e={};Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};var n={};function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,e,n){e&&o(t.prototype,e);n&&o(t,n);return t};var a=function(){"use strict";function o(){t(e)(this,o),this.page=1,this.per_page=5,this.searchQuery=""}return t(n)(o,[{key:"getHits",value:function(){var t=this,e="".concat("https://pixabay.com/api/","?key=").concat("33854415-dab75466e51d96ca7439b60b4","&q=").concat(this.searchQuery,"&per_page=").concat(this.per_page,"&page=").concat(this.page);return fetch(e).then((function(t){return t.json()})).then((function(e){var n=e.hits;return t.nextPage(),n}))}},{key:"nextPage",value:function(){this.page+=1}},{key:"resetPage",value:function(){this.page=1}}]),o}(),i=function(){"use strict";function o(n){var a=n.selector,i=n.isHidden;t(e)(this,o),this.button=this.getButton(a),i?this.hide():this.show()}return t(n)(o,[{key:"getButton",value:function(t){return document.querySelector(t)}},{key:"hide",value:function(){this.button.classList.add("hidden")}},{key:"show",value:function(){this.button.classList.remove("hidden")}},{key:"disable",value:function(){this.button.disabled=!0,this.button.textContent="Loading..."}},{key:"enable",value:function(){this.button.disabled=!1,this.button.textContent="Load more"}}]),o}(),r=document.querySelector(".search-form"),c=document.querySelector(".gallery"),s=new a,u=new i({selector:"#load-more",isHidden:!0});function l(){return u.disable(),s.getHits().then((function(t){if(0===t.length)throw new Error("Sorry, there are no images matching your search query. Please try again.");return t.reduce((function(t,e){return o=(n=e).tags,a=n.webformatURL,i=n.largeImageURL,r=n.likes,c=n.views,s=n.comments,u=n.downloads,'\n\t\t<div class="photo-card">\n\t\t\t<a class="images-link" href="'.concat(i,'">\n\t\t\t\t<img src="').concat(a,'" alt="').concat(o,'" loading="lazy" />\n\t\t\t</a>\n\t\t\t<div class="info">\n\t\t\t\t<p class="info-item">\n\t\t\t\t<b>Likes</b>:\n\t\t\t\t').concat(r,'\n\t\t\t\t</p>\n\t\t\t\t<p class="info-item">\n  \t\t\t\t<b>Views</b>:\n\t\t\t\t').concat(c,'\n\t\t\t\t</p>\n\t\t\t\t<p class="info-item">\n  \t\t\t\t<b>Comments</b>:\n\t\t\t\t').concat(s,'\n\t\t\t\t</p>\n\t\t\t\t<p class="info-item">\n  \t\t\t\t<b>Downloads</b>:\n\t\t\t\t').concat(u,"\n\t\t\t\t</p>\t\t\t\t\n\t\t\t</div>\t\t\t\t\n\t\t</div>\n\t")+t;var n,o,a,i,r,c,s,u}),"")})).then((function(t){d(t),u.enable()})).catch(f)}function d(t){c.insertAdjacentHTML("beforeend",t)}function f(t){console.error(t),u.hide(),d("<p>Hits not found</p>")}console.log(s),console.log(u),r.addEventListener("submit",(function(t){t.preventDefault();var e=t.currentTarget,n=e.elements.searchQuery.value.trim();c.innerHTML="",s.resetPage(),u.show(),s.searchQuery=n,l().finally((function(){return e.reset()}))})),u.button.addEventListener("click",l)}();
//# sourceMappingURL=index.8284abb8.js.map
