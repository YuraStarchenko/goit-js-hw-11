{"mappings":"YAgDA,IAAMA,EAAOC,SAASC,cAAc,gBAC9BC,EAAUF,SAASC,cAAc,YAuBvC,SAASE,EAAgBC,GACvBF,EAAQG,UAAYD,C,CAuCtB,SAASE,EAAQC,GACfC,QAAQC,MAAMF,GACdJ,EAAgB,wB,CA/DlBJ,EAAKW,iBAAiB,UAEtB,SAAkBC,GAChBA,EAAEC,iBAEF,IAAMC,EAAOF,EAAEG,eCdiBC,EDelBF,EAAKG,SAASD,YAAYE,MAAMC,OCdzCC,EAAM,GAAmBC,OALf,2BAKQ,SAAgBA,OAJ7B,qCAIwB,OAAiBA,OAAZL,EAAY,sBAC5CM,MAAMF,GAAKG,MAAK,SAAAC,G,OAAYA,EAASC,M,KDgBzCF,MAAK,SAAAG,G,IAAGC,EAAID,EAAJE,KACP,GAAoB,IAAhBD,EAAKE,OACP,MAAM,IAAIC,MACR,4EAEJ,OAAOH,EAAKI,QAAO,SAAC1B,EAAQuB,G,OAWlC,SAAsBF,G,IACpBM,EADoBN,EACpBM,KACAC,EAFoBP,EAEpBO,aACAC,EAHoBR,EAGpBQ,cACAC,EAJoBT,EAIpBS,MACAC,EALoBV,EAKpBU,MACAC,EANoBX,EAMpBW,SACAC,EAPoBZ,EAOpBY,UAEA,MAAO,sEAGOjB,OADkBa,EAAc,0BACVb,OAAtBY,EAAa,WAKvBZ,OALgCW,EAAK,6HASrCX,OAJAc,EAAM,oFAQNd,OAJAe,EAAM,uFAQNf,OAJAgB,EAAS,wFAIChB,OAAViB,EAAU,+D,CAxC2BC,CAAaX,GAAQvB,C,GAAQ,G,IAEnEkB,KAAKnB,GACLoC,MAAMjC,GACNkC,SAAQ,W,OAAM3B,EAAK4B,O,IC3BT,IAAmB1B,EAC3BI,C,IC1COnB,SAAS0C,eAAe,eAC3B1C,SAASC,cAAc,W","sources":["src/service/script.js","src/service/pixabayAPI.js","src/service/refs.js"],"sourcesContent":["// import SimpleLightbox from 'simplelightbox';\n// import 'simplelightbox/dist/simple-lightbox.min.css';\n\n// import { Notify } from 'notiflix/build/notiflix-notify-aio';\n// import { refs } from './refs';\n// import createMarkup from './markup';\n// import PixabayApiService from './pixabayAPI.js';\n// import LoadMoreBtn from './LoadMoreBtn';\n\n// const pixabayApiService = new PixabayApiService();\n// const loadMoreBtn = new LoadMoreBtn({\n// \tselector: '#',\n// \tisHidden: true,\n// });\n// console.log(loadMoreBtn);\n\n// refs.searchForm.addEventListener('submit', onSearch);\n// refs.loadMoreBtn.button.addEventListener('click', onLoadMore);\n\n// async function onSearch(e) {\n//   e.preventDefault();\n//   clearGalleryContainer();\n//   pixabayApiService.query = e.currentTarget.searchQuery.value.trim();\n\n//   if (pixabayApiService.query === '') {\n//     return Notify.failure(\n//       'Sorry, there are no images matching your search query. Please try again.'\n//     );\n//   }\n\n//   pixabayApiService.resetPage();\n//   pixabayApiService.fetchHits().then(appendGalleryMarkup);\n// }\n\n// function onLoadMore() {\n// \tpixabayApiService.fetchHits().then(appendGalleryMarkup);\n// }\n\n// function appendGalleryMarkup(hits) {\n//   refs.gallery.insertAdjacentHTML('beforeend', createMarkup(hits));\n// }\n\n// function clearGalleryContainer() {\n//   refs.gallery.innerHTML = '';\n// }\n\nimport fetchData from './pixabayAPI.js';\n\nconst form = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\n\nform.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n\n  const form = e.currentTarget;\n  const value = form.elements.searchQuery.value.trim();\n\n  fetchData(value)\n    .then(({ hits }) => {\n      if (hits.length === 0)\n        throw new Error(\n          'Sorry, there are no images matching your search query. Please try again.'\n        );\n      return hits.reduce((markup, hits) => createMarkup(hits) + markup, '');\n    })\n    .then(updateHitsImage)\n    .catch(onError)\n    .finally(() => form.reset());\n}\n\nfunction updateHitsImage(markup) {\n  gallery.innerHTML = markup;\n}\n\nfunction createMarkup({\n  tags,\n  webformatURL,\n  largeImageURL,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `\n\t\t<div class=\"photo-card\">\n\t\t\t<a class=\"images-link\" href=\"${largeImageURL}\">\n\t\t\t\t<img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n\t\t\t</a>\n\t\t\t<div class=\"info\">\n\t\t\t\t<p class=\"info-item\">\n\t\t\t\t<b>Likes</b>:\n\t\t\t\t${likes}\n\t\t\t\t</p>\n\t\t\t\t<p class=\"info-item\">\n  \t\t\t\t<b>Views</b>:\n\t\t\t\t${views}\n\t\t\t\t</p>\n\t\t\t\t<p class=\"info-item\">\n  \t\t\t\t<b>Comments</b>:\n\t\t\t\t${comments}\n\t\t\t\t</p>\n\t\t\t\t<p class=\"info-item\">\n  \t\t\t\t<b>Downloads</b>:\n\t\t\t\t${downloads}\n\t\t\t\t</p>\t\t\t\t\n\t\t\t</div>\t\t\t\t\n\t\t</div>\n\t`;\n}\n\nfunction onError(err) {\n  console.error(err);\n  updateHitsImage('<p>Hits not found</p>');\n}\n","// import axios from 'axios';\n// export default class PixabayApiService {\n//   constructor() {\n//     this.searchQuery = '';\n//     this.per_page = 10;\n//     this.page = 1;\n//   }\n//   async fetchHits() {\n//     const ENDPOINT = 'https://pixabay.com/api/';\n//     const KEY = '33854415-dab75466e51d96ca7439b60b4';\n//     const URL = `${ENDPOINT}/?key=${KEY}&q=${this.searchQuery}?&per_page=${this.per_page}&page=${this.page}`;\n\n//     const response = await fetch(URL);\n//     const { hits } = await response.json();\n//     this.incrementPage();\n//     return hits;\n\n//     // const { data } = await axios.get(URL);\n//     // this.incrementPage();\n//     // return data.hits;\n//   }\n\n//   incrementPage() {\n//     this.page += 1;\n//   }\n\n//   resetPage() {\n//     this.page = 1;\n//   }\n\n//   get query() {\n//     return this.searchQuery;\n//   }\n\n//   set query(newQuery) {\n//     this.searchQuery = newQuery;\n//   }\n// }\nconst ENDPOINT = 'https://pixabay.com/api/';\nconst KEY = '33854415-dab75466e51d96ca7439b60b4';\n// const URL = `${ENDPOINT}?key=${KEY}&q=image_type=photo&orientation=horizontal&safesearch=true&per_page=10&page=1`;\n\nexport default function fetchData(searchQuery) {\n\tconst URL = `${ENDPOINT}?key=${KEY}&q=${searchQuery}&per_page=5&page=1`;\n  return fetch(URL).then(response => response.json());\n}\n","export const refs = {\n  searchForm: document.getElementById('search-form'),\n  gallery: document.querySelector('.gallery'),\n};\n"],"names":["$fd0407a5496a6a3a$var$form","document","querySelector","$fd0407a5496a6a3a$var$gallery","$fd0407a5496a6a3a$var$updateHitsImage","markup","innerHTML","$fd0407a5496a6a3a$var$onError","err","console","error","addEventListener","e","preventDefault","form1","currentTarget","searchQuery","elements","value","trim","URL","concat","fetch","then","response","json","param","hits1","hits","length","Error","reduce","tags","webformatURL","largeImageURL","likes","views","comments","downloads","$fd0407a5496a6a3a$var$createMarkup","catch","finally","reset","getElementById"],"version":3,"file":"index.8bbd2712.js.map"}